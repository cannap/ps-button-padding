!function(){"use strict";function e(){l.loadDefault(),themeManager.init(),l.reloadList();var e,t,n;$("#add_padding").on("click",function(){e=$("#padding_y").val(),t=$("#padding_x").val(),n=$("#border").val(),e?t||(t=e):e=t;var l=!1;$("#align_to_text_x").is(":checked")&&(l=!0),a.evalScript("padding("+e+","+t+","+n+","+l+")")}),$("#save").on("click",function(){l.save(),l.reloadList()}),$("#delete").on("click",function(){confirm("Are you sure you want to delete this Preset?")&&(l["delete"]($("#presets").val()),l.reloadList())}),$("#set_default").on("click",function(){l.setAsDefault($("#presets").val()),l.reloadList(),l.loadDefault()}),$("#presets").on("change",function(){var e=$("#presets").val();e&&l.load($("#presets").val())})}var a=new CSInterface,t=new localStorageDB("library",localStorage),n="";$(document).ready(function(){function l(a){var l=a.split(".")[0];l=l.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,""),n="presets"+l,t.tableExists(n)||t.createTable(n,["name","x","y","border","default"]),e()}a.evalScript("documentID()",l)});var l={reloadList:function(){var e=t.queryAll(n,{sort:[["default","DESC"]]}),a=$("#presets");a.find("option").remove().end(),$.each(e,function(t,n){a.append('<option value="'+e[t].ID+'">'+e[t].name+"</option>")})},setAsDefault:function(e){t.update(n,{"default":!0},function(e){return e["default"]=!1,e}),t.commit(),t.update(n,{ID:e},function(e){return console.log(e),e["default"]=!0,e}),t.commit()},save:function(){var e=prompt("Enter a name");if(null===e)return!1;var a=$("#padding_x").val(),l=$("#padding_y").val(),r=$("#border").val();t.insert(n,{name:e+" ["+l+"-"+a+"-"+r+" ]",y:l,x:a,border:r,"default":!1}),t.commit()},"delete":function(e){t.deleteRows(n,{ID:e}),t.commit()},loadDefault:function(){var e=t.queryAll(n,{query:{"default":!0}})[0];e&&($("#padding_x").val(e.x),$("#padding_y").val(e.y),$("#border").val(e.border))},load:function(e){var a=t.queryAll(n,{query:{ID:e}})[0];$("#padding_x").val(a.x),$("#padding_y").val(a.y),$("#border").val(a.border)}}}();